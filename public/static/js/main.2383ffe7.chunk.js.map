{"version":3,"sources":["images/default.webp","post/api_post.js","auth/index.js","post/posts.js","core/home.js","core/menu.js","user/signup.js","user/signin.js","user/api_user.js","user/delete_user.js","user/follow_button.js","user/profile_tabs.js","user/profile.js","user/user.js","user/edit_profile.js","user/find_people.js","auth/private_route.js","post/new_post.js","post/comment.js","post/single_post.js","post/edit_post.js","main_router.js","App.js","index.js","images/avatar_profile.png"],"names":["module","exports","baseURL","window","location","host","singlePost","postId","fetch","method","then","response","json","catch","error","console","log","remove","token","headers","Accept","Authorization","result","err","like","userId","body","JSON","stringify","unlike","comment","uncomment","signout","next","localStorage","removeItem","isAuthenticated","getItem","parse","Posts","props","renderPosts","posts","className","map","post","i","poster_id","postedBy","_id","poster_name","name","key","src","alt","title","onError","target","DefaultImage","style","height","width","substring","to","Date","created","toDateString","state","data","setState","this","length","Component","Home","isActive","history","path","pathname","color","withRouter","user","onClick","push","Signup","handleChange","event","value","clickSubmit","preventDefault","res","signup","email","password","valid","bind","display","onSubmit","onChange","type","autoComplete","Signin","loading","signin","jwt","redirectToReferer","setItem","read","follow","followId","unfollow","unfollowId","DeleteUser","deleteAccount","message","redirect","deleteConfirmed","confirm","FollowButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","person","borderRadius","DefaultProfile","Profile","checkIsFollowing","find","follower","clickFollowButton","callApi","init","redirectToSignin","loadPosts","listByUser","user_id","match","params","photo","getTime","about","Users","renderUsers","users","EditProfile","redirectToProfile","id","isValid","fileSize","test","ev","files","size","userData","set","update","auth","updateUser","editForm","args","accept","FormData","FindPeople","clickFollow","to_follow","splice","open","follow_message","findPeople","PrivateRoute","component","rest","render","from","NewPost","post_data","create","newPostForm","Comment","text","deleteComment","post_id","updateComments","comments","addComment","e","placeholder","SinglePost","likes","deleted","deletePost","likeToggle","renderPost","objectFit","padding","marginRight","checkLike","indexOf","componentDidMount","textAlign","reverse","EditPost","redirectToPost","postData","MainRouter","exact","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2383ffe7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.e3718657.webp\";","export const baseURL = `http://${window.location.host}/api`;\n\nexport const create = (userId, token, post) => {\n\treturn fetch(`${baseURL}/post/new/${userId}`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: post\n\t}).then(response => {\n\t\treturn response.json();\n\t}).catch(error => console.log(error));\n};\n\nexport const listPost = () => {\n\treturn fetch(`${baseURL}/post`, {\n\t\tmethod: \"GET\"\n\t}).then(response => {\n\t\treturn response.json();\n\t}).catch(error => console.log(error));\n};\n\nexport const singlePost = postId => {\n\treturn fetch(`${baseURL}/post/${postId}`, {\n\t\tmethod: \"GET\"\n\t}).then(response => {\n\t\treturn response.json();\n\t}).catch(error => console.log(error));\n};\n\nexport const listByUser = (userId, token) => {\n\treturn fetch(`${baseURL}/post/by/${userId}`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t}).then(response => {\n\t\treturn response.json();\n\t}).catch(error => console.log(error));\n};\n\nexport const remove = (postId, token) => {\n\treturn fetch(`${baseURL}/post/${postId}`, {\n\t\tmethod: \"DELETE\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const update = (postId, token, post) => {\n\treturn fetch(`${baseURL}/post/${postId}`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: post\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const like = (userId, token, postId) => {\n\treturn fetch(`${baseURL}/post/like`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({userId, postId})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const unlike = (userId, token, postId) => {\n\treturn fetch(`${baseURL}/post/unlike`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({userId, postId})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const comment = (userId, token, postId, comment) => {\n\treturn fetch(`${baseURL}/post/comment`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({userId, postId, comment})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const uncomment = (userId, token, postId, comment) => {\n\treturn fetch(`${baseURL}/post/uncomment`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({userId, postId, comment})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n","export const baseURL = `http://${window.location.host}/api`;\n\nexport const signup = user => {\n\treturn fetch(`${baseURL}/signup`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify(user)\n\t})\n\t.then(res => res.json()).then(result => { return result })\n\t.catch(err => console.log(err));\n};\n\nexport const signin = user => {\t\n\treturn fetch(`${baseURL}/signin`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify(user)\n\t})\n\t.then(res => res.json()).then(result => { return result })\n\t.catch(err => console.log(err));\n};\n\nexport const authenticate = (jwt, next) => {\n\tif(typeof window !== \"undefined\") {\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(jwt));\n\t\tnext();\n\t};\n};\n\nexport const signout = next => {\n\tif(typeof window !== \"undefined\") localStorage.removeItem(\"jwt\");\n\tnext();\n\treturn fetch(`${baseURL}/signout`, {\n\t\tmethod: \"GET\",\n\t})\n\t.then(response => {\n\t\treturn response.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const isAuthenticated = () => {\n\tif(typeof window !== \"undefined\") {\n\t\tif(localStorage.getItem(\"jwt\")) {\n\t\t\treturn JSON.parse(localStorage.getItem(\"jwt\"));\n\t\t} else {\n\t\t\treturn false;\n\t\t};\n\t};\n};\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {listPost} from \"./api_post\";\nimport {baseURL} from '../auth';\nimport DefaultImage from \"../images/default.webp\";\n\nclass Posts extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tposts: [],\n\t\t\terror: \"\"\n\t\t};\n\t};\n\n\trenderPosts = posts => {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t{posts.map((post, i) => {\n\t\t\t\tconst poster_id = post.postedBy ? post.postedBy._id : \"\";\n\t\t\t\tconst poster_name = post.postedBy ? post.postedBy.name : \"unknown\";\n\t\t\t\t\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"card col-lg-4 md-12\" key={i}>\n\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\tsrc={`${baseURL}/post/photo/${post._id}`} \n\t\t\t\t\t\t\talt={post.title}\n\t\t\t\t\t\t\tonError={i => i.target.src = `${DefaultImage}`}\n\t\t\t\t\t\t\tclassName=\"img-thumbnail mb-3\"\n\t\t\t\t\t\t\tstyle={{height: \"200px\", width: \"auto\"}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<h5 className=\"card-title\">{post.title}</h5>\n\t\t\t\t\t\t\t<p className=\"card-text\">{post.body.substring(0, 100)}</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<p className=\"font-italic mark\">\n\t\t\t\t\t\t\t\tPosted by \n\t\t\t\t\t\t\t\t<Link to={`/user/${poster_id}`}>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t{poster_name}\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\ton {new Date(post.created).toDateString()}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Link to={`/post/${post._id}`} \n\t\t\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-primary\">\n\t\t\t\t\t\t\t\tRead More\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tcomponentDidMount() {\n\t\tlistPost().then(data => {\n\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\tthis.setState({posts: data});\t\t\t\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {posts} = this.state;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">{!posts.length ? \"Loading...\" : \"Recent Posts\"}</h2>\n\t\t\t\t{this.renderPosts(posts)}\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default Posts;\n","import React from \"react\";\nimport Posts from \"../post/posts\";\n\nconst Home = () => (\n\t<div>\n\t\t<div className=\"jumbotron\">\n\t\t\t<h2>Home</h2>\n\t\t\t<p className=\"lead\">Welcome to React Frontend</p>\n\t\t</div>\n\t\t<div className=\"container\">\n\t\t\t<Posts />\n\t\t</div>\n\t</div>\n);\n\nexport default Home;\n","import React from \"react\";\nimport {Link, withRouter} from \"react-router-dom\";\nimport {signout, isAuthenticated} from \"../auth\";\n\nconst isActive = (history, path) => {\n\tif(history.location.pathname === path) return {color: \"#ff9908\"};\n\treturn {color: \"#ffffff\"};\n};\n\nconst Menu = ({history}) => (\n\t<div>\n\t\t<ul className=\"nav nav-tabs bg-primary\">\n\t\t\t<li className=\"nav-item\">\n\t\t\t\t<Link to=\"/\" \n\t\t\t\tclassName=\"nav-link\" \n\t\t\t\tstyle={isActive(history, \"/\")}>\n\t\t\t\t\tHome\n\t\t\t\t</Link>\n\t\t\t</li>\n\n\t\t\t{!isAuthenticated() ? (\n\t\t\t<>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to=\"/users\"\n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/users\")}>\n\t\t\t\t\t\tUsers\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to=\"/signin\" \n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/signin\")}>\n\t\t\t\t\t\tSign In\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to=\"/signup\" \n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/signup\")}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t</> \n\t\t\t) : (\n\t\t\t<>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to=\"/post/create\"\n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/post/create\")}>\n\t\t\t\t\t\tCreate Post\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to=\"/findpeople\"\n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/findpeople\")}>\n\t\t\t\t\t\tFind People\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link to={`/user/${isAuthenticated().user._id}`} className=\"nav-link\" style={isActive(history, `/user/${isAuthenticated().user._id}`)}>\n\t\t\t\t\t\t{`Perfil ${isAuthenticated().user.name}`}\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<span\n\t\t\t\t\tclassName=\"nav-link\" \n\t\t\t\t\tstyle={isActive(history, \"/signout\")}\n\t\t\t\t\tonClick={() => signout(() => history.push(\"/\"))}>\n\t\t\t\t\t\tSign Out\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</>\n\t\t\t)}\n\t\t</ul>\n\t</div>\n);\n\nexport default withRouter(Menu);\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {signup} from \"../auth\";\n\nclass Signup extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\terror: \"\",\n\t\t\tvalid: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.clickSubmit = this.clickSubmit.bind(this);\n\t};\n\n\thandleChange = name => event => {\n\t\tthis.setState({\"error\": \"\", \"valid\": false});\n\t\tthis.setState({[name]: event.target.value});\n\t};\n\n\tclickSubmit = event => {\n\t\tevent.preventDefault();\n\t\tconst {name, email, password} = this.state;\n\t\tconst user = {name, email, password};\n\n\t\tsignup(user)\n\t\t.then(data => {\n\t\t\tif(data.error) this.setState({error: data.error});\n\t\t\telse this.setState({\n\t\t\t\tname: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\terror: \"\",\n\t\t\t\tvalid: true\n\t\t\t});\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {name, email, password, error, valid} = this.state;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Signup</h2>\n\t\t\t\t<div className=\"alert alert-warning\" style={{display: !error ? \"none\" : \"block\"}}>{error}</div>\n\t\t\t\t<div className=\"alert alert-info\" style={{display: !valid ? \"none\" : \"block\"}}>New Account is successfully created. Please <Link to=\"/signin\">Sign In!</Link></div>\n\t\t\t\t<form onSubmit={this.clickSubmit}>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"text-muted\">Name</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\tonChange={this.handleChange(\"name\")} \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"text-muted\">Email</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\tonChange={this.handleChange(\"email\")} \n\t\t\t\t\t\ttype=\"email\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"text-muted\">Password</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\tonChange={this.handleChange(\"password\")} \n\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"btn btn-raised btn-primary\">Submit</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n\t\n};\n\nexport default Signup;\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {signin, authenticate} from \"../auth\";\n\nclass Signin extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\terror: \"\",\n\t\t\tredirectToReferer: false,\n\t\t\tloading: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.clickSubmit = this.clickSubmit.bind(this);\n\t};\n\n\thandleChange = name => event => {\n\t\tthis.setState({\"error\": \"\", \"valid\": false});\n\t\tthis.setState({[name]: event.target.value});\n\t};\n\n\tclickSubmit = event => {\n\t\tevent.preventDefault();\n\t\tthis.setState({loading: true});\n\t\tconst {email, password} = this.state;\n\t\tconst user = {email, password};\n\n\t\tsignin(user)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({error: data.error, loading: false});\n\t\t\telse {\n\t\t\t\tauthenticate(data, () => {\n\t\t\t\t\tthis.setState({redirectToReferer: true});\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t};\n\n\t\n\n\trender() {\n\t\tconst {email, password, error, redirectToReferer, loading} = this.state;\n\n\t\tif(redirectToReferer) {\n\t\t\treturn <Redirect to=\"/\" />\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">SignIn</h2>\n\t\t\t\t<div className=\"alert alert-warning\" style={{display: !error ? \"none\" : \"block\"}}>{error}</div>\n\t\t\t\t{loading ? <div className=\"jumbotron text-center\">\n\t\t\t\t\t<h2>Loading</h2>\n\t\t\t\t</div> : null}\n\t\t\t\t<form onSubmit={this.clickSubmit}>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"text-muted\">Email</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\tonChange={this.handleChange(\"email\")} \n\t\t\t\t\t\ttype=\"email\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label className=\"text-muted\">Password</label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\tonChange={this.handleChange(\"password\")} \n\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"btn btn-raised btn-primary\">Submit</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n\t\n};\n\nexport default Signin;\n","export const baseURL = `http://${window.location.host}/api`;\n\nexport const read = (userId, token) => {\n\treturn fetch(`${baseURL}/user/${userId}`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n\treturn fetch(`${baseURL}/user/${userId}`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: user\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const remove = (userId, token) => {\n\treturn fetch(`${baseURL}/user/${userId}`, {\n\t\tmethod: \"DELETE\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const list = () => {\n\treturn fetch(`${baseURL}/user`, {\n\t\tmethod: \"GET\",\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n\tif(typeof window !== \"undefined\") {\n\t\tif(localStorage.getItem(\"jwt\")) {\n\t\t\tlet auth = JSON.parse(localStorage.getItem(\"jwt\"));\n\t\t\tauth.user = user;\n\t\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(auth));\n\t\t\tnext();\n\t\t};\n\t};\n};\n\nexport const follow = (userId, token, followId) => {\n\treturn fetch(`${baseURL}/user/follow`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`,\n\t\t},\n\t\tbody: JSON.stringify({userId, followId})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const unfollow = (userId, token, unfollowId) => {\n\treturn fetch(`${baseURL}/user/unfollow`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`,\n\t\t},\n\t\tbody: JSON.stringify({userId, unfollowId})\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\nexport const findPeople = (userId, token) => {\n\treturn fetch(`${baseURL}/user/findpeople/${userId}`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`,\n\t\t}\n\t}).then(result => {\n\t\treturn result.json();\n\t}).catch(err => console.log(err));\n};\n\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {isAuthenticated, signout} from \"../auth\";\nimport {remove} from \"./api_user\";\n\nclass DeleteUser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tredirect: false\n\t\t};\n\t};\n\n\tdeleteAccount = () => {\n\t\tconst token = isAuthenticated().message;\n\t\tconst user_id = this.props.userId;\n\t\tremove(user_id, token)\n\t\t.then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tsignout(() => console.log(\"User is deleted!\"));\n\t\t\tthis.setState({redirect: true});\n\t\t})\n\t};\n\n\tdeleteConfirmed = () => {\n\t\tlet answer = window.confirm(\"Are you sure?\");\n\t\tif(answer) this.deleteAccount();\n\t\treturn false;\n\t};\n\n\trender() {\n\t\tif(this.state.redirect) return <Redirect to=\"/\" />;\n\t\treturn (\n\t\t\t<input type=\"button\" value=\"Delete profile\" onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\" />\n\t\t);\n\t};\n};\n\nexport default DeleteUser;\n","import React, {Component} from \"react\";\nimport {follow, unfollow} from \"./api_user\";\n\nclass FollowButton extends Component {\n\n\tfollowClick = () => {\n\t\tthis.props.onButtonClick(follow);\n\t};\n\t\n\tunfollowClick = () => {\n\t\tthis.props.onButtonClick(unfollow);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"d-inline-block mt-5\">\n\t\t\t\t{!this.props.following ? (\n\n\t\t\t\t\t<button\n\t\t\t\t\tonClick={this.followClick} \n\t\t\t\t\tclassName=\"btn btn-success btn-raised mr-5\">\n\t\t\t\t\tFollow\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\tonClick={this.unfollowClick} \n\t\t\t\t\tclassName=\"btn btn-warning btn-raised mr-5\">\n\t\t\t\t\tUnfollow\n\t\t\t\t\t</button>\t\n\n\t\t\t\t)}\t\t\t\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default FollowButton;\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {baseURL} from '../auth';\nimport DefaultProfile from \"../images/avatar_profile.png\";\n\nclass ProfileTabs extends Component {\n\trender() {\n\t\tconst {following, followers, posts} = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-4\">\n\t\t\t\t\t\t<h3 className=\"text-primary\">Followers</h3>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{followers.map((person, i) => (\n\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link to={`/user/${person._id}`}>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tstyle={{borderRadius: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-thumbnail float-left mr-2\"\n\t\t\t\t\t\t\t\t\t\theight=\"30px\"\n\t\t\t\t\t\t\t\t\t\twidth=\"30px\"\n\t\t\t\t\t\t\t\t\t\tonError={i => (i.target.src = `${DefaultProfile}`)}\n\t\t\t\t\t\t\t\t\t\tsrc={`${baseURL}/user/photo/${person._id}`}\n\t\t\t\t\t\t\t\t\t\talt={person.name} \n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"lead\">{person.name}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-4\">\n\t\t\t\t\t\t<h3 className=\"text-primary\">Following</h3>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{following.map((person, i) => (\n\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link to={`/user/${person._id}`}>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tstyle={{borderRadius: \"100%\"}}\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-thumbnail float-left mr-2\"\n\t\t\t\t\t\t\t\t\t\theight=\"30px\"\n\t\t\t\t\t\t\t\t\t\twidth=\"30px\"\n\t\t\t\t\t\t\t\t\t\tonError={i => (i.target.src = `${DefaultProfile}`)}\n\t\t\t\t\t\t\t\t\t\tsrc={`${baseURL}/user/photo/${person._id}`}\n\t\t\t\t\t\t\t\t\t\talt={person.name} \n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"lead\">{person.name}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-4\">\n\t\t\t\t\t\t<h3 className=\"text-primary\">Posts</h3>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t{[...posts].map((post, i) => (\n\t\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Link to={`/post/${post._id}`}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"lead\">{post.title}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default ProfileTabs;\n","import React, {Component} from \"react\";\nimport {Redirect, Link} from \"react-router-dom\";\nimport {isAuthenticated, baseURL} from \"../auth\";\nimport {read} from \"./api_user\";\nimport DefaultImage from \"../images/avatar_profile.png\";\nimport DeleteUser from \"./delete_user.js\";\nimport FollowButton from \"./follow_button\";\nimport ProfileTabs from \"./profile_tabs\";\nimport {listByUser} from \"../post/api_post\";\n\nclass Profile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuser: {following: [], followers: []},\n\t\t\tredirectToSignin: false,\n\t\t\terror: \"\",\n\t\t\tposts: \"\",\n\t\t\tfollowing: false\n\t\t};\n\t};\n\n\tcheckIsFollowing = user => {\n\t\tconst jwt = isAuthenticated();\n\t\tconst matched = user.followers.find(follower => {\n\t\t\treturn follower._id === jwt.user._id;\n\t\t});\n\t\treturn matched;\n\t};\n\n\tclickFollowButton = callApi => {\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tconst token = isAuthenticated().message;\n\t\tcallApi(user_id, token, this.state.user._id)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\tthis.setState({user: data.user, following: !this.state.following});\n\t\t});\n\t};\n\n\tinit = userId => {\n\t\tconst token = isAuthenticated().message;\n\t\tread(userId, token)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({redirectToSignin: true});\n\t\t\tlet following = this.checkIsFollowing(data.user);\n\t\t\tthis.setState({user: data.user, following});\n\t\t\tthis.loadPosts(data.user._id, token);\n\t\t});\n\t};\n\n\tloadPosts = (userId, token) => {\n\t\tlistByUser(userId, token).then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tthis.setState({posts: data});\n\t\t})\n\t};\n\n\tcomponentDidMount() {\n\t\tconst user_id = this.props.match.params.userId;\n\t\tthis.init(user_id);\n\t};\n\n\tcomponentWillReceiveProps(props) {\n\t\tconst user_id = props.match.params.userId;\n\t\tthis.init(user_id);\n\t};\n\n\trender() {\t\n\t\tconst {redirectToSignin, user, posts} = this.state;\n\t\tconst photo = user._id ? `${baseURL}/user/photo/${user._id}?${new Date().getTime()}` : DefaultImage;\n\t\tif(redirectToSignin) return <Redirect to=\"/signin\" />;\t\n\t\treturn (\n\t\t\t<div className=\"container\">\t\t\t\t\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Profile</h2>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-lg-4 md-12\">\n\t\t\t\t\t\t<img \n\t\t\t\t\t\tstyle={{height: \"200px\", width: \"auto\", borderRadius: \"100%\"}}\n\t\t\t\t\t\tclassName=\"img-thumbnail\"\n\t\t\t\t\t\tsrc={photo} \n\t\t\t\t\t\tonError={i => (i.target.src=`${DefaultImage}`)}\n\t\t\t\t\t\talt={user.name} \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-lg-8 md-12\">\n\t\t\t\t\t\t<div className=\"lead\">\n\t\t\t\t\t\t\t<p>Name: {`${this.state.user.name}`}</p>\n\t\t\t\t\t\t\t<p>Email: {`${this.state.user.email}`}</p>\n\t\t\t\t\t\t\t<p>Joined: {`${new Date(\n\t\t\t\t\t\t\t\tthis.state.user.created\n\t\t\t\t\t\t\t)}`}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isAuthenticated().user && isAuthenticated().user._id === this.state.user._id ? (\n\t\t\t\t\t\t<div className=\"d-inline-block\">\n\t\t\t\t\t\t\t<Link to={`/post/create`} \n\t\t\t\t\t\t\tclassName=\"btn btn-raised btn-primary mr-5\">\n\t\t\t\t\t\t\t\tCreate Post\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to={`/user/edit/${user._id}`} \n\t\t\t\t\t\t\tclassName=\"btn btn-raised btn-success mr-5\">\n\t\t\t\t\t\t\t\tEdit Profile\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<DeleteUser userId={user._id}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<FollowButton \n\t\t\t\t\t\t\tfollowing={this.state.following}\n\t\t\t\t\t\t\tonButtonClick={this.clickFollowButton}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col md-12 mt-5 mb-5\">\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<p className=\"lead\">{user.about}</p>\n\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t<ProfileTabs \n\t\t\t\t\t\tfollowers={user.followers} \n\t\t\t\t\t\tfollowing={user.following} \n\t\t\t\t\t\tposts={posts}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default Profile;\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {list} from \"./api_user\";\nimport {baseURL} from '../auth';\nimport DefaultImage from \"../images/avatar_profile.png\";\n\nclass Users extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusers: []\n\t\t};\n\t};\n\n\trenderUsers = users => (\n\t\t<div className=\"row\">\n\t\t{users.map((user, i) => {\n\t\t\treturn <div className=\"card col-lg-4 md-12\" key={i}>\n\t\t\t\t<img \n\t\t\t\tstyle={{height: \"200px\", width: \"auto\"}}\n\t\t\t\tclassName=\"img-thumbnail\"\n\t\t\t\tsrc={`${baseURL}/user/photo/${user._id}?${new Date().getTime()}`}\n\t\t\t\tonError={i => (i.target.src=`${DefaultImage}`)}\n\t\t\t\talt={user.name} \n\t\t\t\t/>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h5 className=\"card-title\">{user.name}</h5>\n\t\t\t\t\t<p className=\"card-text\">{user.email}</p>\n\t\t\t\t\t<Link to={`/user/${user._id}`} className=\"btn btn-raised btn-sm btn-primary\">View Profile</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t})}\n\t\t</div>\n\t);\n\n\tcomponentDidMount() {\n\t\tlist().then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tthis.setState({users: data});\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {users} = this.state;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Users</h2>\n\t\t\t\t{this.renderUsers(users)}\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default Users;\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {isAuthenticated, baseURL} from \"../auth\";\nimport {read, update, updateUser} from \"./api_user\";\nimport DefaultImage from \"../images/avatar_profile.png\";\n\nclass EditProfile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: \"\",\n\t\t\tname: \"\",\n\t\t\tpassword: \"\",\n\t\t\temail: \"\",\n\t\t\terror: \"\",\n\t\t\tfileSize: \"\",\n\t\t\tabout: \"\",\n\t\t\tredirectToProfile: false,\n\t\t\tloading: false\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.clickSubmit = this.clickSubmit.bind(this);\n\t\tthis.userData = new FormData();\n\t};\n\n\tinit = userId => {\n\t\tconst token = isAuthenticated().message;\n\t\tread(userId, token)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({redirectToProfile: true});\n\t\t\tthis.setState({\n\t\t\t\tid: data.user._id, \n\t\t\t\tname: data.user.name, \n\t\t\t\temail: data.user.email,\n\t\t\t\tabout: data.user.about,\n\t\t\t\terror: \"\"\t\t\n\t\t\t});\n\t\t});\n\t};\n\n\tcomponentDidMount() {\n\t\tconst user_id = this.props.match.params.userId;\n\t\tthis.init(user_id);\n\t};\n\n\tisValid = () => {\n\t\tconst {name, email, password, fileSize} = this.state;\n\t\t// eslint-disable-next-line\n\t\tconst regex_email = /^\\w+([\\.-]?w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n\t\tif(fileSize > 10000) return this.setState({error: \"File should be less than 100kb.\", loading: false});\n\t\tif(name.length === 0) return this.setState({error: \"Name is required!\", loading: false});\n\t\tif(!regex_email.test(email)) return this.setState({error: \"A valid Email is required!\", loading: false});\n\t\tif(password.length >= 1 && password.length <= 5) return this.setState({error: \"Password must be at least 6 characters long.\", loading: false});\n\t\treturn true;\n\t};\n\n\thandleChange = name => ev => {\n\t\tthis.setState({error: \"\"});\n\t\tconst value =  name === \"photo\" ? ev.target.files[0] : ev.target.value;\n\t\tconst fileSize = name === \"photo\" ? ev.target.files[0].size : 0;\n\n\t\tthis.userData.set(name, value);\n\t\tthis.setState({[name]: value, fileSize});\n\t};\n\n\tclickSubmit = event => {\n\t\tevent.preventDefault();\n\t\tconst user_id = this.props.match.params.userId;\n\t\tconst token = isAuthenticated().message;\n\t\tthis.setState({loading: true});\t\n\n\t\tif(this.isValid()) {\n\t\t\tupdate(user_id, token, this.userData)\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\t\treturn updateUser(data, () => {\n\t\t\t\t\tthis.setState({ redirectToProfile: true });\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t};\n\n\teditForm = (...args) => {\n\t\tconst [\n\t\t\tname, \n\t\t\temail, \n\t\t\tpassword,\n\t\t\tabout\n\t\t] = [...args];\n\n\t\treturn (\n\t\t<>\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Profile Photo</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"photo\")} \n\t\t\ttype=\"file\" \n\t\t\tclassName=\"form-control\"\n\t\t\taccept=\"image/*\" \n\t\t\t/>\n\t\t</div>\t\t\t\t\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Name</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"name\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\" \n\t\t\tvalue={name || \"\"}\n\t\t\tautoComplete=\"username\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Email</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"email\")} \n\t\t\ttype=\"email\" \n\t\t\tclassName=\"form-control\"\n\t\t\tvalue={email || \"\"}\n\t\t\tautoComplete=\"email\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">About</label>\n\t\t\t<textarea \n\t\t\tonChange={this.handleChange(\"about\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\" \n\t\t\tvalue={about || \"\"}\n\t\t\t/>\n\t\t</div>\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Password</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"password\")} \n\t\t\ttype=\"password\" \n\t\t\tclassName=\"form-control\"\n\t\t\tvalue={password || \"\"}\n\t\t\tautoComplete=\"current-password\"\n\t\t\t/>\n\t\t</div>\n\t\t<button className=\"btn btn-raised btn-primary\">Update</button>\n\t\t</>)\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tname, \n\t\t\temail, \n\t\t\tpassword, \n\t\t\tredirectToProfile, \n\t\t\terror,\n\t\t\tabout,\n\t\t\tloading\n\t\t} = this.state;\n\n\t\tconst id = this.props.match.params.userId;\n\t\tconst photo = `${baseURL}/user/photo/${id}?${new Date().getTime()}`;\n\n\t\tif(redirectToProfile) return <Redirect to={`/user/${id}`} />;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Edit Profile</h2>\n\t\t\t\t<form onSubmit={this.clickSubmit}>\n\t\t\t\t\t<div className=\"alert alert-warning\" style={{display: !error ? \"none\" : \"block\"}}>{error}</div>\n\n\t\t\t\t{loading ? (\n\t\t\t\t\t<div className=\"jumbotron text-center\">\n\t\t\t\t\t\t<h2>Loading...</h2>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t\t<img \n\t\t\t\t\tstyle={{height: \"200px\", width: \"auto\", borderRadius: \"100%\"}}\n\t\t\t\t\tclassName=\"img-thumbnail\"\n\t\t\t\t\tsrc={photo} \n\t\t\t\t\tonError={i => i.target.src = `${DefaultImage}`}\n\t\t\t\t\talt={name} \n\t\t\t\t\t/>\n\t\t\t\t\t{this.editForm(name, email, password, about)}\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default EditProfile;\n","import React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {findPeople, follow} from \"./api_user\";\nimport {isAuthenticated, baseURL} from \"../auth\";\n\nimport DefaultImage from \"../images/avatar_profile.png\";\n\nclass FindPeople extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusers: [],\n\t\t\terror: \"\",\n\t\t\topen: false\n\t\t};\n\t};\n\n\tclickFollow = (user, i) => {\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tconst token = isAuthenticated().message;\n\t\t\n\t\tfollow(user_id, token, user._id)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\tlet to_follow = this.state.users;\n\t\t\tto_follow.splice(i, 1);\n\t\t\tthis.setState({\n\t\t\t\tusers: to_follow,\n\t\t\t\terror: \"\",\n\t\t\t\topen: true,\n\t\t\t\tfollow_message: `Following ${user.name}`\n\t\t\t});\n\t\t}); \n\t};\n\n\trenderUsers = users => (\n\t\t<div className=\"row\">\n\t\t{users.map((user, i) => {\n\t\t\treturn <div className=\"card col-lg-4 md-12\" key={i}>\n\t\t\t\t<img \n\t\t\t\tstyle={{height: \"200px\", width: \"auto\"}}\n\t\t\t\tclassName=\"img-thumbnail\"\n\t\t\t\tsrc={`${baseURL}/user/photo/${user._id}?${new Date().getTime()}`}\n\t\t\t\tonError={i => (i.target.src=`${DefaultImage}`)}\n\t\t\t\talt={user.name} \n\t\t\t\t/>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h5 className=\"card-title\">\n\t\t\t\t\t\t{user.name}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<p className=\"card-text\">\n\t\t\t\t\t\t{user.email}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Link to={`/user/${user._id}`} \n\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-primary\">\n\t\t\t\t\t\tView Profile\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button \n\t\t\t\t\tonClick={() => this.clickFollow(user, i)}\n\t\t\t\t\tclassName=\"btn btn-raised btn-info float-right btn-sm\">\n\t\t\t\t\t\tFollow\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t})}\n\t\t</div>\n\t);\n\n\tcomponentDidMount() {\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tconst token = isAuthenticated().message;\n\n\t\tfindPeople(user_id, token).then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tthis.setState({users: data});\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {users, open, follow_message} = this.state;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Find People</h2>\n\n\t\t\t\t<div>\n\t\t\t\t\t{open && (\n\t\t\t\t\t\t<div className=\"alert alert-success\">\n\t\t\t\t\t\t\t<p>{follow_message}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{this.renderUsers(users)}\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default FindPeople;\n","// eslint-disable-next-line\nimport React, {Component} from \"react\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport {isAuthenticated} from \"./index.js\";\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n\t// props means components passed down to this private route comp\n\t<Route {...rest} render={props => isAuthenticated() ? (\n\t\t<Component {...props} />\n\t) : (\n\t\t<Redirect to={\n\t\t{pathname: \"/signin\", \n\t\tstate: {from: props.location}\n\t\t}} />\n\t)} />\n);\n\nexport default PrivateRoute;\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {isAuthenticated} from \"../auth\";\nimport {create} from \"./api_post\";\n\nclass NewPost extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttitle: \"\",\n\t\t\tbody: \"\",\n\t\t\tphoto: \"\",\n\t\t\terror: \"\",\n\t\t\tfileSize: \"\",\n\t\t\tuser: {},\n\t\t\tloading: false,\n\t\t\tredirectToProfile: false\n\t\t};\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.post_data = new FormData();\n\t\tthis.setState({user: isAuthenticated().user});\n\t};\n\n\tisValid = () => {\n\t\tconst {title, body, fileSize} = this.state;\n\n\t\tif(fileSize > 10000) return this.setState({error: \"File should be less than 100kb.\", loading: false});\n\n\t\tif(title.length === 0 || body.length === 0) return this.setState({error: \"All fields are required!\", loading: false});\n\t\treturn true;\n\t};\n\n\thandleChange = name => ev => {\n\t\tthis.setState({error: \"\"});\n\t\tconst value =  name === \"photo\" ? ev.target.files[0] : ev.target.value;\n\t\tconst fileSize = name === \"photo\" ? ev.target.files[0].size : 0;\n\n\t\tthis.post_data.set(name, value);\n\t\tthis.setState({[name]: value, fileSize});\n\t};\n\n\tclickSubmit = event => {\n\t\tevent.preventDefault();\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tconst token = isAuthenticated().message;\n\t\tthis.setState({loading: true});\n\n\t\tif(this.isValid()) {\n\t\t\tcreate(user_id, token, this.post_data)\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t\tredirectToProfile: true,\n\t\t\t\t\tbody: \"\",\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tphoto: \"\"\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t};\n\n\tnewPostForm = (...args) => {\n\t\tconst [\n\t\t\ttitle,\n\t\t\tbody\n\t\t] = [...args];\n\n\t\treturn (\n\t\t<>\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Post Photo</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"photo\")} \n\t\t\ttype=\"file\" \n\t\t\tclassName=\"form-control\"\n\t\t\taccept=\"image/*\" \n\t\t\t/>\n\t\t</div>\t\t\t\t\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Title</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"title\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\" \n\t\t\tvalue={title || \"\"}\n\t\t\tautoComplete=\"username\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Body</label>\n\t\t\t<textarea \n\t\t\tonChange={this.handleChange(\"body\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\" \n\t\t\tvalue={body || \"\"}\n\t\t\t/>\n\t\t</div>\n\n\t\t<button className=\"btn btn-raised btn-primary\">Create Post</button>\n\t\t</>)\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tbody,\n\t\t\tuser,\n\t\t\tloading,\n\t\t\terror,\n\t\t\tredirectToProfile\n\t\t} = this.state;\n\n\t\tif(redirectToProfile) return <Redirect to={`/user/${user._id}`} />;\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"mt-5 mb-5\">Create a new Post</h2>\n\t\t\t\t<form onSubmit={this.clickSubmit}>\n\t\t\t\t\t<div className=\"alert alert-warning\" style={{display: !error ? \"none\" : \"block\"}}>{error}</div>\n\n\t\t\t\t{loading ? (\n\t\t\t\t\t<div className=\"jumbotron text-center\">\n\t\t\t\t\t\t<h2>Loading...</h2>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t\t{this.newPostForm(title, body)}\n\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default NewPost;\n","import React, {Component} from \"react\";\nimport {\n\tcomment,\n\tuncomment\n} from \"./api_post\";\nimport {isAuthenticated, baseURL} from \"../auth\";\nimport {Link} from \"react-router-dom\";\nimport DefaultProfile from \"../images/avatar_profile.png\";\n\nclass Comment extends Component {\n\tstate = {\n\t\ttext: \"\",\n\t\terror: \"\"\n\t};\n\n\thandleChange = event => {\n\t\tthis.setState({text: event.target.value, error: \"\"});\n\t};\n\n\tisValid = () => {\n\t\tconst {text} = this.state;\n\t\tif(!text.length > 0 || text.length > 150) {\n\t\t\tthis.setState({\n\t\t\t\terror: \"Comment should be between 0 and 150 characters\"\n\t\t\t});\n\t\t\treturn false;\n\t\t};\n\t\treturn true;\n\t};\n\n\tdeleteComment = comment => {\n\t\tlet answer = window.confirm(\"Do you want to delete this post?\");\n\t\tif(answer) {\n\t\t\tconst user_id = isAuthenticated().user._id;\n\t\t\tconst token = isAuthenticated().message;\n\t\t\tconst post_id = this.props.postId;\n\n\t\t\tuncomment(user_id, token, post_id, comment)\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) console.log(data.error);\n\t\t\t\tthis.props.updateComments(data.comments);\n\t\t\t})\n\t\t};\n\t\treturn false;\n\t};\n\n\taddComment = e => {\n\t\te.preventDefault();\n\t\t\n\t\tif(this.isValid()) {\n\t\t\tconst user_id = isAuthenticated().user._id;\n\t\t\tconst token = isAuthenticated().message;\n\t\t\tconst post_id = this.props.postId;\n\n\t\t\tcomment(user_id, token, post_id, {text: this.state.text})\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) console.log(data.error);\n\t\t\t\tthis.setState({text: \"\"});\n\t\t\t\tthis.props.updateComments(data.comments);\n\t\t\t})\n\t\t};\n\t};\n\n\trender() {\n\t\tconst {comments} = this.props;\n\t\tconst {error} = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2 \n\t\t\t\tclassName=\"mt-5 mb-5\">\n\t\t\t\t\tLeave a comment\n\t\t\t\t</h2>\n\t\t\t\t<form\n\t\t\t\tonSubmit={this.addComment}>\n\t\t\t\t\t<div \n\t\t\t\t\t\tclassName=\"alert alert-warning\" \n\t\t\t\t\t\tstyle={{display: !error ? \"none\" : \"block\"}}>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div \n\t\t\t\t\tclassName=\"form-group\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tonChange={this.handleChange} \n\t\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\t\tplaceholder=\"Leave a comment\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-primary mt-2\">\n\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"col-md-8 col-md-offset-2\">\n\t\t\t\t\t<h3 className=\"text-primary\">{comments.length} Comments</h3>\n\t\t\t\t\t<hr />\n\t\t\t\t\t{comments.map((comment, i) => (\n\t\t\t\t\t\t<div key={i}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Link to={`/user/${comment.postedBy._id}`}>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tstyle={{borderRadius: \"100%\"}}\n\t\t\t\t\t\t\t\t\tclassName=\"img-thumbnail float-left mr-2\"\n\t\t\t\t\t\t\t\t\theight=\"30px\"\n\t\t\t\t\t\t\t\t\twidth=\"30px\"\n\t\t\t\t\t\t\t\t\tonError={i => (i.target.src = `${DefaultProfile}`)}\n\t\t\t\t\t\t\t\t\tsrc={`${baseURL}/user/photo/${comment.postedBy._id}`}\n\t\t\t\t\t\t\t\t\talt={comment.postedBy.name} \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p \n\t\t\t\t\t\t\t\t\tclassName=\"lead\">{comment.postedBy.name}</p>\n\t\t\t\t\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{isAuthenticated().user && isAuthenticated().user._id === comment.postedBy._id && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\tonClick={() => this.deleteComment(comment)}\n\t\t\t\t\t\t\t\t\tclassName=\"text-warning\">\n\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default Comment;\n","import React, {Component} from \"react\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport {singlePost, remove, like, unlike} from \"./api_post\";\nimport {isAuthenticated, baseURL} from \"../auth\";\nimport DefaultImage from \"../images/default.webp\";\nimport Comment from \"./comment.js\";\n\nclass SinglePost extends Component {\n\tstate = {\n\t\tpost: \"\",\n\t\tlikes: 0,\n\t\tdeleted: false,\n\t\tlike: false,\n\t\tredirectToSignin: false,\n\t\tcomments: []\n\t};\n\n\tdeletePost = () => {\n\t\tconst post_id = this.props.match.params.postId;\n\t\tconst token = isAuthenticated().message;\n\n\t\tlet answer = window.confirm(\"Do you want to delete this post?\");\n\t\tif(answer) {\n\t\t\treturn remove(post_id, token).then(data => {\n\t\t\t\tif(data.error) console.log(data.error);\n\t\t\t\tthis.setState({deleted: true});\n\t\t\t});\n\t\t};\n\t\treturn false;\n\t};\n\n\tupdateComments = comments => {\n\t\tthis.setState({comments});\n\t};\n\n\tlikeToggle = () => {\n\t\tlet callApi = this.state.like ? unlike : like;\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tconst post_id = this.state.post._id;\n\t\tconst token = isAuthenticated().message;\n\n\t\tcallApi(user_id, token, post_id).then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tthis.setState({ \n\t\t\t\tlike: !this.state.like,\n\t\t\t\tlikes: data.likes.length\n\t\t\t});\n\t\t});\n\t};\n\n\trenderPost = post => {\n\t\tconst poster_id = post.postedBy ?\n\t\t`/user/${post.postedBy._id}` : \"\";\n\t\tconst poster_name = post.postedBy ?\n\t\tpost.postedBy.name : \"unknown\";\n\n\t\tconst {like, likes} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<img \n\t\t\t\tsrc={`${baseURL}/post/photo/${post._id}`} \n\t\t\t\talt={post.title}\n\t\t\t\tonError={i => i.target.src = `${DefaultImage}`}\n\t\t\t\tclassName=\"img-thumbnail mb-3\"\n\t\t\t\tstyle={{height: \"300px\", width: \"100%\", objectFit: \"cover\"}}\n\t\t\t\t/>\n\n\t\t\t\t{like ? (\n\t\t\t\t\t<h3 onClick={this.likeToggle}>\n\t\t\t\t\t\t<i \n\t\t\t\t\t\tclassName=\"fa fa-thumbs-up text-success bg-dark\"\n\t\t\t\t\t\tstyle={{padding: \"10px\", borderRadius: \"100%\", marginRight: \"4px\"}}\n\t\t\t\t\t\t />\n\t\t\t\t\t\t{likes} Likes\n\t\t\t\t\t</h3>\n\t\t\t\t) : (\n\t\t\t\t\t<h3 onClick={this.likeToggle}>\n\t\t\t\t\t\t<i \n\t\t\t\t\t\tclassName=\"fa fa-thumbs-up text-warning bg-dark\"\n\t\t\t\t\t\tstyle={{padding: \"10px\", borderRadius: \"100%\", marginRight: \"4px\"}}\n\t\t\t\t\t\t />\n\t\t\t\t\t\t{likes} Likes\n\t\t\t\t\t</h3>\n\t\t\t\t)}\n\n\t\t\t\t<p className=\"card-text\">{post.body}</p>\n\t\t\t\t<br />\n\t\t\t\t<p className=\"font-italic mark\">\n\t\t\t\t\tPosted by \n\t\t\t\t\t<Link to={`/user/${poster_id}`}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{poster_name}\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t</Link>\n\t\t\t\t\ton {new Date(post.created).toDateString()}\n\t\t\t\t</p>\n\t\t\t\t<div className=\"d-inline-block\">\n\t\t\t\t\t<Link to={`/`} \n\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-primary mr-5\">\n\t\t\t\t\t\tBack to Posts\n\t\t\t\t\t</Link>\n\t\t\t\t\t{isAuthenticated().user && isAuthenticated().user._id === this.state.post.postedBy._id && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Link to={`/post/edit/${post._id}`} \n\t\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-warning mr-5\">\n\t\t\t\t\t\t\tUpdate Post\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\tonClick={this.deletePost}\n\t\t\t\t\t\tclassName=\"btn btn-raised btn-sm btn-warning mr-5\">\n\t\t\t\t\t\t\tDelete Post\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tcheckLike = likes => {\n\t\tif(!isAuthenticated()) return this.setState({redirectToSignin: true});\n\t\tconst user_id = isAuthenticated().user._id;\n\t\tlet matched = likes.indexOf(user_id) !== -1;\n\t\treturn matched;\n\t};\n\n\tcomponentDidMount = () => {\n\t\tconst post_id = this.props.match.params.postId;\n\n\t\tsinglePost(post_id).then(data => {\n\t\t\tif(data.error) console.log(data.error);\n\t\t\tthis.setState({\n\t\t\t\tpost: data, \n\t\t\t\tlikes: data.likes.length, \n\t\t\t\tlike: this.checkLike(data.likes),\n\t\t\t\tcomments: data.comments\n\t\t\t});\n\t\t\tconsole.log(data.comments)\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {post, deleted, redirectToSignin, comments} = this.state;\n\t\tif(deleted) return <Redirect to=\"/\" />\n\t\tif(redirectToSignin) return <Redirect to=\"/signin\" />\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<h2 className=\"display-2 mt-5 mb-5\" \n\t\t\t\tstyle={{textAlign: \"center\"}}>\n\t\t\t\t\t{post.title}\n\t\t\t\t</h2>\n\t\t\t\t{!post ? \n\t\t\t\t<div className=\"jumbotron text-center\">\n\t\t\t\t\t<h2>Loading</h2>\n\t\t\t\t</div> : \n\t\t\t\tthis.renderPost(post)}\n\t\t\t\t<Comment \n\t\t\t\tpostId={post._id} \n\t\t\t\tcomments={comments.reverse()} \n\t\t\t\tupdateComments={this.updateComments} \n\t\t\t\t/>\n\t\t\t</div>\t\t\t\n\t\t);\n\t};\n};\n\nexport default SinglePost;\n","import React, {Component} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {singlePost, update} from \"./api_post\";\nimport {isAuthenticated, baseURL} from \"../auth\";\nimport DefaultImage from \"../images/default.webp\";\n\nclass EditPost extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tid: \"\",\n\t\t\ttitle: \"\",\n\t\t\tbody: \"\",\n\t\t\tphoto: \"\",\n\t\t\tfileSize: \"\",\n\t\t\tredirectToPost: false\n\t\t};\n\t\tthis.postData = new FormData();\n\t};\n\n\tinit = postId => {\n\t\tsinglePost(postId)\n\t\t.then(data => {\n\t\t\tif(data.error) return this.setState({redirectToPost: true});\n\t\t\tthis.setState({\n\t\t\t\tid: data._id, \n\t\t\t\ttitle: data.title, \n\t\t\t\tbody: data.body,\n\t\t\t\terror: \"\",\n\t\t\t\tloading: false\t\n\t\t\t});\n\t\t});\n\t};\n\n\thandleChange = name => ev => {\n\t\tthis.setState({error: \"\"});\n\t\tconst value =  name === \"photo\" ? ev.target.files[0] : ev.target.value;\n\t\tconst fileSize = name === \"photo\" ? ev.target.files[0].size : 0;\n\n\t\tthis.postData.set(name, value);\n\t\tthis.setState({[name]: value, fileSize});\n\t};\n\n\tisValid = () => {\n\t\tconst {title, body, fileSize} = this.state;\n\n\t\tif(fileSize > 10000) return this.setState({error: \"File should be less than 100kb.\", loading: false});\n\t\tif(title.length === 0 || body.length === 0) return this.setState({error: \"All fields are required!\", loading: false});\n\t\treturn true;\n\t};\n\n\tclickSubmit = event => {\n\t\tevent.preventDefault();\n\t\tconst post_id = this.state.id;\n\t\tconst token = isAuthenticated().message;\n\t\tthis.setState({loading: true});\t\n\n\t\tif(this.isValid()) {\n\t\t\tupdate(post_id, token, this.postData)\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) return this.setState({error: data.error});\n\t\t\t\tthis.setState({ \n\t\t\t\t\tredirectToProfile: true,\n\t\t\t\t\tloading: false,\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tbody: \"\"\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t};\n\n\teditForm = (...args) => {\n\t\tconst [\n\t\t\ttitle, \n\t\t\tbody\n\t\t] = [...args];\n\n\t\treturn (\n\t\t<>\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Profile Photo</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"photo\")} \n\t\t\ttype=\"file\" \n\t\t\tclassName=\"form-control\"\n\t\t\taccept=\"image/*\" \n\t\t\t/>\n\t\t</div>\t\t\t\t\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Title</label>\n\t\t\t<input \n\t\t\tonChange={this.handleChange(\"title\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\"\n\t\t\tvalue={title || \"\"}\n\t\t\tautoComplete=\"email\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div className=\"form-group\">\n\t\t\t<label className=\"text-muted\">Body</label>\n\t\t\t<textarea \n\t\t\tonChange={this.handleChange(\"body\")} \n\t\t\ttype=\"text\" \n\t\t\tclassName=\"form-control\" \n\t\t\tvalue={body || \"\"}\n\t\t\t/>\n\t\t</div>\n\t\t<button className=\"btn btn-raised btn-primary\">Update</button>\n\t\t</>)\n\t};\n\n\tcomponentDidMount() {\n\t\tconst post_id = this.props.match.params.postId;\n\t\tthis.init(post_id);\n\t};\n\n\trender() {\n\t\tconst {id,\n\t\ttitle, \n\t\tbody, \n\t\tredirectToPost, \n\t\tloading,\n\t\terror} = this.state;\n\n\t\tif(redirectToPost) return <Redirect to={`/user/${isAuthenticated().user._id}`} />\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t<form onSubmit={this.clickSubmit}>\n\t\t\t\t<div \n\t\t\t\t\tclassName=\"alert alert-warning\" \n\t\t\t\t\tstyle={{display: !error ? \"none\" : \"block\"}}>\n\t\t\t\t\t{error}\n\t\t\t\t</div>\n\n\t\t\t\t{loading ? (\n\t\t\t\t\t<div className=\"jumbotron text-center\">\n\t\t\t\t\t\t<h2>Loading...</h2>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\n\t\t\t\t<h2 className=\"mt-5 mb-5\">{title}</h2>\n\t\t\t\t<img \n\t\t\t\tstyle={{height: \"200px\", width: \"auto\", borderRadius: \"100%\"}}\n\t\t\t\tclassName=\"img-thumbnail\"\n\t\t\t\tsrc={`${baseURL}/post/photo/${id}?${new Date().getTime()}`} \n\t\t\t\tonError={i => i.target.src = `${DefaultImage}`}\n\t\t\t\talt={title} \n\t\t\t\t/>\n\t\t\t\t{this.editForm(title, body)}\n\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t};\n};\n\nexport default EditPost;\n","import React from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\n\nimport Home from \"./core/home\";\nimport Menu from \"./core/menu\";\nimport Signup from \"./user/signup\";\nimport Signin from \"./user/signin\";\nimport Profile from \"./user/profile\";\nimport Users from \"./user/user\";\nimport EditProfile from \"./user/edit_profile\";\nimport FindPeople from \"./user/find_people\";\nimport PrivateRoute from \"./auth/private_route\";\nimport NewPost from \"./post/new_post\";\nimport SinglePost from \"./post/single_post\";\nimport EditPost from \"./post/edit_post\";\n\nconst MainRouter = () => (\n\t<div>\n\t\t<Menu />\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t<PrivateRoute exact \n\t\t\tpath=\"/post/create\" \n\t\t\tcomponent={NewPost} \n\t\t\t/>\n\t\t\t<Route exact path=\"/post/:postId\" component={SinglePost} />\n\t\t\t<Route exact path=\"/users\" component={Users} />\n\t\t\t<Route exact path=\"/signup\" component={Signup} />\n\t\t\t<Route exact path=\"/signin\" component={Signin} />\n\t\t\t<PrivateRoute exact \n\t\t\tpath=\"/findpeople\" \n\t\t\tcomponent={FindPeople} />\n\t\t\t<PrivateRoute exact \n\t\t\tpath=\"/user/edit/:userId\" \n\t\t\tcomponent={EditProfile} \n\t\t\t/>\n\t\t\t<PrivateRoute exact \n\t\t\tpath=\"/user/:userId\" \n\t\t\tcomponent={Profile} \n\t\t\t/>\n\t\t\t<PrivateRoute exact \n\t\t\tpath=\"/post/edit/:postId\" \n\t\t\tcomponent={EditPost} \n\t\t\t/>\n\t\t\t<Route path=\"*\" component={() => <h1>Acesso Negado!</h1>} />\n\t\t</Switch>\n\t</div>\n);\n\nexport default MainRouter;\n","import React from 'react';\nimport {BrowserRouter} from \"react-router-dom\";\n\nimport MainRouter from \"./main_router\";\n\nconst App = () => (\n\t<BrowserRouter>\n\t\t<MainRouter />\n\t</BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/avatar_profile.64a211b3.png\";"],"sourceRoot":""}